② IBM MQ のインストールパスとコマンド配置

/opt/mqm は IBM MQ の標準インストールディレクトリであり、/opt/mqm/bin には運用管理用コマンド、/opt/mqm/samp/bin には疎通確認やテスト用途のサンプルコマンドが配置される。手順書で絶対パス指定を行うのは、PATH 設定に依存せず確実に正しいバイナリを実行するためである。

⸻

③ amqsput を用いた MQ メッセージ送信確認

amqsput は指定したキューに対してテストメッセージを投入するためのコマンドである。送信後に戻り値を確認することで、キュー定義や接続状態に問題がないかを簡易的に判断できる。Live Run においてはアプリケーションを介さず MQ 単体の疎通を確認する目的で使用される。

⸻

④ runmqsc によるキュー状態確認

runmqsc は MQ Queue Manager に対して管理コマンドを実行するための対話型ツールである。CURDEPTH を確認することで、キューにメッセージが滞留していないか、送受信が正常に行われているかを把握できる。grep を併用することで必要な情報のみを抽出する運用が可能となる。

⸻

⑤ 転送用 hosts ファイルの役割

hosts ファイルは DNS を使用せずにホスト名と IP アドレスを解決するための設定ファイルである。DR 環境では接続先が本番と異なる場合が多く、一時的に hosts を切り替えることで通信先を制御する。Live Run 終了後に元へ戻す作業も手順上重要となる。

⸻

⑥ 転送用 hosts のオーナー・グループ修正理由

転送用 hosts ファイルのオーナー・グループを修正するのは、scp 実行ユーザーや配布スクリプトが当該ファイルへアクセスできるようにするためである。root 所有のままでは権限エラーが発生する可能性があり、事前に適切な所有者へ変更することで自動処理の失敗を防止する。

⸻

⑦ sudo・cp・mv を用いた設定ファイル管理

/ etc /hosts の操作には管理者権限が必要となるため sudo を用いる。変更前にバックアップを取得し、作業後に存在確認を行うことは運用の基本である。cp -p を使用することでパーミッションやタイムスタンプを保持したままコピーできる。
