ICMP と SFTP のレイヤー差異
ICMP は IP ネットワーク層に属する制御用プロトコルであり、疎通確認やエラーメッセージ通知を目的として使用される。一方、SFTP は SSH 上で動作するアプリケーションレベルのファイル転送プロトコルで、業務データの安全な送受信に用いられる。両者は用途・通信方式・制御対象が根本的に異なる。
	•	プロトコル記載におけるレイヤー意識の重要性
設計書や QA 表における「プロトコル」は、通信内容を示すアプリケーション層と、制御方式を示すトランスポート層を混同せずに記載する必要がある。SFTP の場合は SSH（TCP/22）として成立し、ICMP は TCP/UDP を介さず独立したプロトコルとして定義される。
	•	SFTP 通信の技術的構成
SFTP は SSH セッション内でファイル転送を行う仕組みであり、暗号化・認証・整合性確認を同時に実現する。ネットワーク制御の観点では TCP/22 の通信許可が必須となり、FW やマイクロセグメンテーション設計ではサービスラベル単位で制御される。
	•	ICMP 通信の運用上の役割
ICMP は ping や疎通確認に用いられ、DR 切替やホスト移動後のネットワーク健全性確認に不可欠な要素となる。業務データは流さないが、運用監視・障害切り分けの観点では許可要否の判断が重要となる。
	•	illumio におけるサービス定義の考え方
illumio のルール設計では、サービスラベルにより通信内容を抽象化し、TCP/UDP・ポート・ICMP を明示的に定義する。SVC-SFTP-22 は SSH ベースのファイル転送を示し、SVC-ICMP は疎通確認用途の通信として明確に区別される。
	•	QA 表記載における実務的な書き分け
QA 表では通信の目的を明確化するため、SFTP（SSH）や ICMP といったアプリケーション／制御プロトコル名を用いる。一方、詳細設計では TCP/UDP やポート番号を補足し、監査・レビューでの指摘を防ぐ構成とする。
